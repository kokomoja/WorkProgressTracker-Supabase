<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>PCG | Work Progress Tracker</title>
    <link rel="icon" href="assets/favicon.ico" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <script src="public.config.js"></script>
  </head>

  <body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
      <div class="container-lg">
        <a class="navbar-brand d-flex align-items-center gap-2" href="#">
          <span>üë∑</span>
          <span>‡∏ú‡∏π‡πâ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</span>
        </a>
        <div class="ms-auto d-flex align-items-center gap-3">
          <span id="userInfo" class="navbar-text fw-semibold"></span>
          <button id="logout" class="btn btn-outline-light btn-sm">
            üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
          </button>
        </div>
      </div>
    </nav>

    <main class="container-lg my-4">
      <section class="card shadow-sm mb-4">
        <div
          class="card-header bg-light d-flex justify-content-between align-items-center fw-semibold"
          data-bs-toggle="collapse"
          data-bs-target="#progressCardBody"
          style="cursor: pointer"
        >
          <h5 class="mb-0">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h5>
          <i class="bi bi-chevron-up" id="iconToggle"></i>
        </div>

        <div id="progressCardBody" class="collapse">
          <div class="card-body">
            <form id="userForm" class="row g-3">
              <div class="col-md-4">
                <label for="taskId" class="form-label fw-semibold"
                  >‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</label
                >
                <input id="taskId" class="form-control" required />
              </div>

              <div class="col-md-8">
                <label for="taskName" class="form-label fw-semibold"
                  >‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</label
                >
                <input id="taskName" class="form-control" required />
              </div>

              <div class="col-md-6">
                <label for="startDate" class="form-label fw-semibold"
                  >‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label
                >
                <input type="date" id="startDate" class="form-control" />
              </div>

              <div class="col-md-6">
                <label for="endDate" class="form-label fw-semibold"
                  >‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label
                >
                <input type="date" id="endDate" class="form-control" />
              </div>

              <div class="col-md-4">
                <label for="progress" class="form-label fw-semibold"
                  >‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ (%)</label
                >
                <input
                  type="number"
                  id="progress"
                  class="form-control"
                  min="0"
                  max="100"
                  value="0"
                  required
                />
              </div>

              <div class="col-md-4">
                <label for="status" class="form-label fw-semibold"
                  >‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô</label
                >
                <select id="status" class="form-select">
                  <option>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</option>
                  <option selected>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
                  <option>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                </select>
              </div>

              <div class="col-12">
                <label for="remark" class="form-label fw-semibold"
                  >‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤</label
                >
                <textarea id="remark" class="form-control" rows="2"></textarea>
              </div>

              <div class="col-12 text-end">
                <button type="submit" class="btn btn-success">
                  üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <section class="card shadow-sm">
        <div class="card-body">
          <h5 class="fw-semibold mb-3">üìã ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h5>
          <div class="table-responsive">
            <table
              id="userTable"
              class="table table-striped table-hover table-sm align-middle"
            >
              <thead class="table-light text-center">
                <tr>
                  <th style="white-space: nowrap">‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</th>
                  <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                  <th style="white-space: nowrap">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                </tr>
              </thead>
              <tbody class="text-start">
                <tr>
                  <td colspan="3" class="text-center text-muted">
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <div class="modal fade" id="editTaskModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title fw-semibold">‚úèÔ∏è ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏á‡∏≤‡∏ô</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body bg-light-subtle">
            <form id="editTaskForm" class="row g-3">
              <input type="hidden" id="editTaskId" />

              <div class="col-12">
                <label for="editTaskName" class="form-label fw-semibold"
                  >‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</label
                >
                <input id="editTaskName" class="form-control" required />
              </div>

              <div class="col-md-6">
                <label for="editStartDate" class="form-label fw-semibold"
                  >‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label
                >
                <input type="date" id="editStartDate" class="form-control" />
              </div>

              <div class="col-md-6">
                <label for="editEndDate" class="form-label fw-semibold"
                  >‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label
                >
                <input type="date" id="editEndDate" class="form-control" />
              </div>

              <div class="col-md-6">
                <label for="editProgress" class="form-label fw-semibold"
                  >‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ (%)</label
                >
                <input
                  type="number"
                  id="editProgress"
                  class="form-control"
                  min="0"
                  max="100"
                />
              </div>

              <div class="col-md-6">
                <label for="editStatus" class="form-label fw-semibold"
                  >‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label
                >
                <select id="editStatus" class="form-select">
                  <option>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</option>
                  <option>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
                  <option>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                </select>
              </div>

              <div class="col-12">
                <label for="editRemark" class="form-label fw-semibold"
                  >‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤</label
                >
                <textarea
                  id="editRemark"
                  class="form-control"
                  rows="2"
                ></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              ‡∏õ‡∏¥‡∏î
            </button>
            <button type="button" id="saveEditBtn" class="btn btn-primary">
              üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤
            </button>
          </div>
        </div>
      </div>
    </div>

    <footer class="text-center py-4 text-muted small">
      ¬© 2025 PCG Work Tracker
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="app_user.js"></script>

    <script>
      const header = document.querySelector(
        '[data-bs-target="#progressCardBody"]'
      );
      const icon = document.getElementById("iconToggle");
      const collapseEl = document.getElementById("progressCardBody");
      const collapse = new bootstrap.Collapse(collapseEl, { toggle: false });

      header.addEventListener("click", () => {
        if (collapseEl.classList.contains("show")) {
          collapse.hide();
          icon.classList.replace("bi-chevron-up", "bi-chevron-down");
        } else {
          collapse.show();
          icon.classList.replace("bi-chevron-down", "bi-chevron-up");
        }
      });
    </script>
  </body>
</html>
